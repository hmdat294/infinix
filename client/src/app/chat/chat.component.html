<section class="gradient-background layout-vertical" style="height: 100vh;">

    <article class="layout-horizontal gap-20 px-20 w-fill h-fill overflow-hidden">
        <div class="w-fill-column-3 layout-vertical gap-20 py-20 overflow-scroll-vertical">
            <div class="layout-vertical card-background-default border border-card-default rounded-8"
                style="height: calc(100vh - 85px);">
                <div class="w-fill layout-horizontal align-center-space-between px-20 py-15">
                    <div class="control search-control w-fill me-10">
                        <input type="search" placeholder="Tìm kiếm" name="search" [(ngModel)]="keyword"
                            (input)="searchFriend()" spellcheck="false">
                        <button type="button" class="input-button clear-content-button">
                            <i class="icon-size-16 icon icon-ic_fluent_dismiss_16_regular"></i>
                        </button>
                        <button type="button" class="input-button search-button">
                            <i class="icon-size-16 icon icon-ic_fluent_search_16_regular"></i>
                        </button>
                    </div>
                    <div class="w-hug">
                        <button type="button" class="button-subtle button-icon-only text-secondary"
                            (click)="toggleDialogCreateGroup()">
                            <i class="icon-size-24 icon icon-ic_fluent_chat_add_24_regular"></i></button>
                    </div>
                    <div class="w-hug">
                        <button type="button" class="button-subtle button-icon-only text-secondary"><i
                                class="icon-size-24 icon icon-ic_fluent_more_horizontal_24_regular"></i></button>
                    </div>
                </div>

                <div class="px-20 py-10" *ngIf="friendsSearch.length == 0 && keyword != ''">
                    <div class="w-fill py-15 card-background-default border border-card-default rounded-4">
                        <p class="text-body text-secondary text-center">Không tìm thấy</p>
                    </div>
                </div>

                <div class="overflow-scroll-vertical">

                    <div class="border-top" *ngFor="let friend of friends">
                        <button type="button" class="button-subtle w-fill gap-15 px-20 py-15"
                            (click)="MessageUser(friend)" style="cursor: pointer;">
                            <img [src]="
                                (friend?.is_group == 1) ? friend.image : friend?.users[0].profile.profile_photo
                            " alt="" style="width: 35px; height: 35px;"
                                class="rounded-circle border border-card-default">
                            <p class="text-secondary text-body-strong w-fill layout">
                                {{
                                (friend?.is_group == 1) ? friend.name : friend?.users[0].profile.display_name
                                }}
                            </p>
                        </button>
                    </div>

                    <div class="w-fill layout-horizontal align-center-center px-20 py-15 border-top">
                        <a href="" class="link">Xem thêm</a>
                    </div>
                </div>

            </div>

            <div class="position-fixed top-0 start-0" *ngIf="idDialogCreateGroup"
                style="width: 100%; height: 100vh; z-index: 10; background-color: rgba(0, 0, 0, 0.2);">
                <div class="dialog-panel position-absolute top-50 start-50 translate-middle" style="z-index: 12;">
                    <form
                        class="layout-vertical gap-20 p-20 rounded-8 acrylic-background-default blur-acrylic border border-card-default"
                        style="width: 400px;" (submit)="createGroup(frm.value)" #frm="ngForm"
                        enctype="multipart/form-data">
                        <div class="w-fill layout-vertical gap-5">
                            <p class="text-body-large text-primary">Tạo nhóm trò chuyện</p>
                            <p class="text-body text-secondary">
                                Tạo nhóm trò chuyện để bắt đầu trò chuyện với nhiều người cùng một lúc
                            </p>
                        </div>
                        <div class="layout py-20 w-fill align-center-center">
                            <div class="background-card-default" style="width: 100px; height: 100px;">
                                <img class="border border-card-default w-fill h-fill rounded-circle object-fit-cover"
                                    src="{{(selectedFilesGroup.length > 0)?previewGroupImages:'assets/image/avatar.png'}}"
                                    alt="">

                                <input class="display-none" type="file" [ngModel]="fileImageGroup" name="fileImageGroup"
                                    (change)="onFileImageGroupSelected($event)" accept="image/*" id="group_media_input">
                                <label for="group_media_input"
                                    class="p-0 button-accent button-icon-only position-absolute bottom-0 end-0"
                                    style="z-index: 1;">
                                    <i class="icon-size-16 icon icon-ic_fluent_camera_16_filled"></i>
                                </label>
                            </div>
                        </div>
                        <div class="w-fill layout-vertical gap-5">
                            <p class="text-body text-primary">Tên nhóm</p>
                            <div class="w-fill control text-control">
                                <input type="text" name="name_group" ngModel spellcheck="false" #nameGroup>
                            </div>
                        </div>
                        <div class="w-fill layout-horizontal gap-20 align-center-right">
                            <button type="button" class="button-standard button-text-only"
                                (click)="closeCreateGroup()">Hủy</button>
                            <button type="submit" class="button-accent button-text-only"
                                [disabled]="spaceCheck.test(frm.value.name_group)">Tạo nhóm</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div *ngIf="!conversation"
            class="w-fill my-20 p-20 card-background-default border border-card-default rounded-8 layout align-center-center">
            <p class="text-body text-secondary text-center">Trống</p>
        </div>

        <div *ngIf="conversation"
            class="{{(isVisible)?'w-fill-column-6':'w-fill-column-9'}} layout-vertical gap-20 py-20">
            <div class="layout-vertical card-background-default border border-card-default rounded-8 position-relative"
                style="height: calc(100vh - 85px);">
                <div
                    class="h-hug w-fill layout-horizontal align-center-space-between px-20 py-15 gap-15 border-bottom border-card-default">
                    <div class="w-fill layout-horizontal gap-15 align-center-center">
                        <img src="{{
                            (conversation?.is_group == 1) ? conversation.image : conversation?.users[0].profile.profile_photo
                            }}" class="rounded-circle border border-card-default object-fit-cover" alt=""
                            style="width: 35px; height: 35px;">
                        <p class="text-secondary text-body-strong w-fill">
                            {{
                            (conversation?.is_group == 1) ? conversation.name :
                            conversation?.users[0].profile.display_name
                            }}
                        </p>
                    </div>
                    <div class="w-hug">
                        <a href="" class="accent-text-primary">
                            <i class="icon-size-24 icon icon-ic_fluent_call_24_filled"></i>
                        </a>
                    </div>
                    <div class="w-hug">
                        <a href="" class="accent-text-primary">
                            <i class="icon-size-24 icon icon-ic_fluent_video_24_filled"></i>
                        </a>
                    </div>
                    <div class="w-hug">
                        <a href="" class="accent-text-primary">
                            <i class="icon-size-24 icon icon-ic_fluent_more_circle_24_filled"></i>
                        </a>
                    </div>
                    <div class="w-hug" (click)="toggleBoxchat()">
                        <a class="accent-text-primary">
                            <i *ngIf="!isVisible"
                                class="icon-size-24 icon icon-ic_fluent_panel_left_contract_24_filled"></i>
                            <i *ngIf="isVisible"
                                class="icon-size-24 icon icon-ic_fluent_panel_right_contract_24_filled"></i>
                        </a>
                    </div>
                </div>

                <div class="border_bottom w-fill" *ngIf="!conversation.users[0].is_friend">
                    <div class="layout-horizontal align-center-space-between gap-10 p-10 border-bottom">
                        <div
                            class="layout-horizontal align-center-left gap-15 text-left w-fill p-10 text-primary">
                            <i class="icon-size-20 text-accent-default icon icon-ic_fluent_person_add_20_regular"></i>
                            <p class="layout-vertical">
                                <span class="text-body text-primary">Chưa phải là bạn, gửi yêu cầu kết bạn</span>
                            </p>
                        </div>
                        <button *ngIf="!conversation.users[0].is_sent_friend_request" type="button" class="button-accent button-text-only me-10"
                            (click)="addFriend(conversation.users[0].id)">Thêm bạn bè
                        </button>
                        <button *ngIf="conversation.users[0].is_sent_friend_request" type="button" class="button-standard button-text-only me-10"
                            (click)="cancelRequest(conversation.users[0].id)">Hủy yêu cầu
                        </button>
                    </div>
                </div>

                <div class="border_bottom w-fill" *ngIf="morePin && conversation.pinned_messages.length > 0">
                    <div *ngFor="let msg_pin of conversation.pinned_messages"
                        class="layout-horizontal align-center-space-between gap-10 px-10 py-5 border-bottom">
                        <button class="button-subtle text-left w-fill px-10 py-5" (click)="scrollToElement(msg_pin.id)">
                            <!-- <i class="icon-size-24 icon icon-ic_fluent_pin_24_filled"></i> -->
                            <p class="layout-vertical">
                                <span class="text-body-strong text-primary">Tin nhắn</span>
                                <span class="text-body text-secondary">{{msg_pin.content}}</span>
                            </p>
                        </button>
                        <button type="button" class="button-subtle button-icon-only me-10"
                            (click)="pinMessage(msg_pin.id)">
                            <i class="icon-size-16 text-accent-default icon icon-ic_fluent_pin_off_16_regular"></i>
                        </button>
                    </div>
                    <div class="px-20 py-10">
                        <button class="button-standard button-text-only w-fill" (click)="morePinMessage()">Thu
                            gọn</button>
                    </div>
                </div>

                <div class="border_bottom w-fill" *ngIf="!morePin && conversation.pinned_messages.length > 0">
                    <div class="layout-horizontal align-center-space-between gap-10 px-10 py-5 border-bottom">
                        <div
                            class="layout-horizontal align-center-left gap-15 text-left w-fill px-10 py-5 text-primary">
                            <i class="icon-size-20 text-accent-default icon icon-ic_fluent_pin_20_regular"></i>
                            <p class="layout-vertical">
                                <span class="text-body-strong text-primary">Tin nhắn</span>
                                <span class="text-body text-secondary">
                                    {{shortenTextByWords(conversation.pinned_messages[conversation.pinned_messages.length-1].content,
                                    10)}}
                                </span>
                            </p>
                        </div>
                        <button type="button" class="button-standard button-text-with-icon me-10"
                            (click)="morePinMessage()">
                            Xem thêm
                            <i class="icon-size-20 text-accent-default icon icon-ic_fluent_chat_20_regular"></i>
                        </button>
                    </div>
                </div>

                <div class="position-fixed top-0 start-0" *ngIf="dialogPin"
                    style="width: 100%; height: 100vh; z-index: 20;">
                    <div class="position-absolute top-0 start-0"
                        style="width: 100%; height: 100vh; z-index: 1; background-color: rgba(0, 0, 0, 0.2);"
                        (click)="dialogPin = false">
                    </div>
                    <div class="dialog-panel position-absolute top-50 start-50 translate-middle" style="z-index: 2;">
                        <div class="layout-vertical p-10 rounded-8 acrylic-background-default blur-acrylic border border-card-default"
                            style="width: 500px;">


                            <button type="button" class="button-subtle button-icon-only w-hug position-absolute"
                                style="right: 20px; top: 20px; z-index: 1;" (click)="dialogPin = false">
                                <i class="icon-size-16 icon icon-ic_fluent_dismiss_16_filled"></i>
                            </button>
                            <div class="w-fill border-bottom border-card-default">
                                <p class="text-subtitle text-primary text-center pb-20 pt-10">Cập nhật danh sách gim</p>
                            </div>

                            <p class="text-body text-secondary p-10">
                                Đã đạt giới hạn 3 gim, gỡ gim cũ để thêm mới!
                            </p>

                            <div class="layout-vertial border rounded-6 mx-10" style="width: calc(100% - 20px);">
                                <div *ngFor="let msg_pin of conversation.pinned_messages"
                                    class="layout-horizontal align-center-space-between gap-10 p-5 border-bottom">
                                    <button class="button-subtle text-left w-fill px-10 py-5"
                                        (click)="scrollToElement(msg_pin.id)">
                                        <!-- <i class="icon-size-24 icon icon-ic_fluent_pin_24_filled"></i> -->
                                        <p class="layout-vertical">
                                            <span class="text-body-strong text-primary">Tin nhắn</span>
                                            <span class="text-body text-secondary">{{msg_pin.content}}</span>
                                        </p>
                                    </button>
                                    <button type="button" class="button-subtle button-icon-only me-10"
                                        (click)="pinMessage(msg_pin.id)">
                                        <i class="icon-size-16 icon icon-ic_fluent_pin_off_16_regular"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div #scrollBox class="h-fill w-fill box-chat gap-20 layout-vertical">

                    <div *ngFor="let msg of conversation.messages; let i = index;" [attr.id]="'item-' + msg.id">

                        <div class="position-fixed top-0 start-0" *ngIf="idDialogChat == msg.id"
                            style="width: 100%; height: 100vh; z-index: 10; background-color: rgba(0, 0, 0, 0.2);">
                            <div class="dialog-panel position-absolute top-50 start-50 translate-middle"
                                style="min-width: 500px;">
                                <div
                                    class="solid-background-senary rounded-6 p-10 gap-10 layout-vertical border border-card-default">
                                    <div class="border-bottom pb-10 layout-horizontal align-center-space-between">
                                        <p class="text-subtitle text-primary">Chi tiết tin nhắn</p>
                                        <button type="button" class="button-subtle button-icon-only"
                                            (click)="toggleDialogChat(0)">
                                            <i class="icon-size-16 icon icon-ic_fluent_dismiss_16_regular"></i>
                                        </button>
                                    </div>
                                    <div>

                                        <div class="w-fill layout align-top-right" *ngIf="(user.id == msg.user_id)"
                                            style="max-height: 65vh;" class="overflow-scroll-vertical">
                                            <div class="layout-horizontal gap-15 p-5 align-top-right">
                                                <div>
                                                    <div
                                                        class="w-fill layout-horizontal align-center-space-between mb-5 gap-10">
                                                        <p class="text-tertiary text-caption">
                                                            {{msg.created_at_time}} - {{msg.created_at_date}}
                                                        </p>
                                                        <p class="text-primary text-body">
                                                            {{msg.user.profile.display_name}}
                                                        </p>
                                                    </div>
                                                    <div class="layout align-center-right" *ngIf="msg.is_recalled == 0">

                                                        <div>
                                                            <div>
                                                                <div *ngIf="msg.reply_to_message_id">
                                                                    <div *ngIf="getReply(msg.reply_to_message_id).is_recalled == 0"
                                                                        style="border-right: 3px solid #005FB8E6;">

                                                                        <p class="px-10 py-5 my-5 text-secondary button-subtle"
                                                                            (click)="scrollToElement(msg.reply_to_message_id)">
                                                                            <img *ngIf="getReply(msg.reply_to_message_id).images"
                                                                                src="{{getReply(msg.reply_to_message_id).images.path}}"
                                                                                alt="Image" height="50px"
                                                                                class="m-2 rounded-4">

                                                                            <span class="text-secondary"
                                                                                style="white-space: pre-line;">
                                                                                {{getReply(msg.reply_to_message_id
                                                                                ).content}}
                                                                            </span>
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="getReply(msg.reply_to_message_id).is_recalled == 1"
                                                                        style="border-right: 3px solid #005FB8E6;">

                                                                        <p class="px-10 py-5 my-5 text-secondary">
                                                                            <i>*Tin nhắn đã được thu hồi</i>
                                                                        </p>

                                                                    </div>
                                                                </div>

                                                                <div class="layout w-fill gradient-background p-10 rounded-top-8"
                                                                    *ngIf="msg.medias.length>0">
                                                                    <div
                                                                        class="w-fill h-fill {{(msg.medias.length<6)?'layout-3-'+msg.medias.length:(msg.medias.length%2==0)?'layout-3-6':'layout-3-5'}}">
                                                                        <div class="w-fill h-fill  border border-card-default rounded-4 overflow-hidden"
                                                                            *ngFor="let img of msg.medias">
                                                                            <img class="w-fill object-fit-cover object-position-center"
                                                                                [src]="getPathImg(img)" alt="Image">
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <a *ngIf="msg.link" [routerLink]="[ msg.link ]"
                                                                    style="white-space: pre-line;"
                                                                    class="display-block text-wrap accent-default text-on-accent-primary border border-card-default px-15 py-10 {{(msg.medias.length>0)?'rounded-bottom-8':'rounded-8'}}">
                                                                    {{ msg.content }}
                                                                </a>
                                                                <p *ngIf="!msg.link" style="white-space: pre-line;"
                                                                    class="display-block text-wrap accent-default text-on-accent-primary border border-card-default px-15 py-10 {{(msg.medias.length>0)?'rounded-bottom-8':'rounded-8'}}">
                                                                    {{ msg.content }}
                                                                </p>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <img [src]="msg.user.profile.profile_photo"
                                                    class="rounded-circle border border-card-default object-fit-cover"
                                                    alt="" style="width: 35px; height: 35px;">
                                            </div>
                                        </div>

                                        <div class="w-fill layout align-top-left" *ngIf="(user.id != msg.user_id)">
                                            <div class="layout-horizontal gap-15 p-5">
                                                <img [src]="msg.user.profile.profile_photo"
                                                    class="rounded-circle border border-card-default object-fit-cover"
                                                    alt="" style="width: 35px; height: 35px;">
                                                <div>
                                                    <div
                                                        class="w-fill layout-horizontal align-center-space-between mb-5 gap-10">
                                                        <p class="text-primary text-body">
                                                            {{msg.user.profile.display_name}}
                                                        </p>
                                                        <p class="text-tertiary text-caption">
                                                            {{msg.created_at_time}} - {{msg.created_at_date}}
                                                        </p>
                                                    </div>
                                                    <div class="layout align-center-left" *ngIf="msg.is_recalled == 0">
                                                        <div>
                                                            <div>
                                                                <div *ngIf="msg.reply_to_message_id">
                                                                    <div *ngIf="getReply(msg.reply_to_message_id).is_recalled == 0"
                                                                        style="border-left: 3px solid #0000001F;">

                                                                        <p class="px-10 py-5 my-5 text-secondary"
                                                                            (click)="scrollToElement(msg.reply_to_message_id)">
                                                                            <img *ngIf="getReply(msg.reply_to_message_id).images"
                                                                                src="{{getReply(msg.reply_to_message_id).images.path}}"
                                                                                alt="Image" height="50px"
                                                                                class="m-2 rounded-4">

                                                                            <span class="text-secondary"
                                                                                style="white-space: pre-line;">
                                                                                {{getReply(msg.reply_to_message_id
                                                                                ).content}}
                                                                            </span>
                                                                        </p>
                                                                    </div>
                                                                    <div *ngIf="getReply(msg.reply_to_message_id).is_recalled == 1"
                                                                        style="border-left: 3px solid #0000001F;">

                                                                        <p class="px-10 py-5 my-5 text-secondary">
                                                                            <i>*Tin nhắn đã được thu hồi</i>
                                                                        </p>

                                                                    </div>
                                                                </div>

                                                                <div class="layout w-fill h-fill"
                                                                    *ngIf="msg.medias.length>0">
                                                                    <div style="max-height: 60vh;"
                                                                        class="w-fill h-fill {{(msg.medias.length<6)?'layout-3-'+msg.medias.length:(msg.medias.length%2==0)?'layout-3-6':'layout-3-5'}}">
                                                                        <div class="w-fill h-fill  border border-card-default rounded-4 overflow-hidden"
                                                                            *ngFor="let img of msg.medias">
                                                                            <img class="w-fill h-fill object-fit-cover object-position-center"
                                                                                [src]="getPathImg(img)" alt="Image">
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <a *ngIf="msg.link" [routerLink]="[ msg.link ]"
                                                                    style="white-space: pre-line;"
                                                                    class="display-block text-wrap card-background-default text-primary border border-card-default px-15 py-10 {{(msg.medias.length>0)?'rounded-bottom-8':'rounded-8'}}">
                                                                    {{ msg.content }}
                                                                </a>
                                                                <p *ngIf="!msg.link" style="white-space: pre-line;"
                                                                    class="display-block text-wrap card-background-default text-primary border border-card-default px-15 py-10 {{(msg.medias.length>0)?'rounded-bottom-8':'rounded-8'}}">
                                                                    {{ msg.content }}
                                                                </p>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div *ngIf="msg.is_edited == 1" class="border-top pt-10">

                                        <p style="font-size: 0.9em;"
                                            class="text-secondary text-{{(user.id == msg.user_id)?'right':'left'}}">
                                            Đã sửa - {{msg.updated_at_time}} - {{msg.updated_at_date}}
                                        </p>

                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="layout-horizontal align-center-center mt-10" *ngIf="isDifferentDate(i)">
                            <div class="w-hug px-10 rounded-pill acrylic-background-default blur-acrylic">
                                <small class="text-caption text-secondary">{{msg.created_at_date}}</small>
                            </div>
                        </div>

                        <div class="w-fill layout align-top-right" *ngIf="(user.id == msg.user_id)">
                            <div class="mess-hover layout-horizontal gap-15 p-20">
                                <div style="position: relative;">
                                    <p class="text-primary text-body mb-5 text-right">
                                        {{msg.user.profile.display_name}}
                                    </p>
                                    <div class="layout align-top-right" *ngIf="msg.is_recalled == 0">
                                        <div [style]="(i == conversation.messages.length - 1 && i != 0) ? 'bottom: 20px; left: -180px;':'left: -180px;'"
                                            class="mess-menu layout-vertical mx-15 gap-5 p-5 acrylic-background-default blur-acrylic border border-card-default rounded-8">
                                            <div class="list-item layout-horizontal gap-10 align-center-left"
                                                (click)="toggleDialogChat(msg.id)">
                                                <i
                                                    class="icon-size-20 accent-text-primary icon icon-ic_fluent_more_horizontal_20_regular"></i>
                                                <p class="text-body text-primary">Xem chi tiết</p>
                                            </div>
                                            <div *ngIf="!checkPined(msg.id)"
                                                class="list-item layout-horizontal gap-10 align-center-left"
                                                (click)="checkPinLength(msg.id)">
                                                <i
                                                    class="icon-size-20 accent-text-primary icon icon-ic_fluent_pin_20_regular"></i>
                                                <p class="text-body text-primary">Gim</p>
                                            </div>
                                            <div *ngIf="checkPined(msg.id)"
                                                class="list-item layout-horizontal gap-10 align-center-left"
                                                (click)="pinMessage(msg.id)">
                                                <i
                                                    class="icon-size-20 accent-text-primary icon icon-ic_fluent_pin_off_20_regular"></i>
                                                <p class="text-body text-primary">Hủy gim</p>
                                            </div>
                                            <div class="list-item layout-horizontal gap-10 align-center-left"
                                                (click)="copyMessage(msg.content)">
                                                <i
                                                    class="icon-size-20 accent-text-primary icon icon-ic_fluent_copy_20_regular"></i>
                                                <p class="text-body text-primary">Sao chép</p>
                                            </div>
                                            <div class="list-item layout-horizontal gap-10 align-center-left"
                                                (click)="onReply(msg.id)">
                                                <i
                                                    class="icon-size-20 accent-text-primary icon icon-ic_fluent_arrow_reply_20_regular"></i>
                                                <p class="text-body text-primary">Phản hổi</p>
                                            </div>
                                            <div class="list-item layout-horizontal gap-10 align-center-left"
                                                (click)="editMessage(msg.id)">
                                                <i
                                                    class="icon-size-20 accent-text-primary icon icon-ic_fluent_edit_20_regular"></i>
                                                <p class="text-body text-primary">Chỉnh sửa</p>
                                            </div>
                                            <div class="list-item layout-horizontal gap-10 align-center-left"
                                                (click)="recallMessage(msg.id)">
                                                <i
                                                    class="icon-size-20 accent-text-primary icon icon-ic_fluent_arrow_counterclockwise_20_regular"></i>
                                                <p class="text-body text-primary">Thu hồi</p>
                                            </div>

                                        </div>
                                        <div>
                                            <div style="max-width: 350px;">
                                                <div *ngIf="msg.reply_to_message_id">
                                                    <div *ngIf="getReply(msg.reply_to_message_id).is_recalled == 0"
                                                        style="border-right: 3px solid var(--accent-default);">

                                                        <p class="px-10 py-5 my-5 text-secondary button-subtle"
                                                            (click)="scrollToElement(msg.reply_to_message_id)">
                                                            <img *ngIf="getReply(msg.reply_to_message_id).images"
                                                                src="{{getReply(msg.reply_to_message_id).images.path}}"
                                                                alt="Image" height="50px" class="m-2 rounded-4">

                                                            <span class="text-secondary" style="white-space: pre-line;">
                                                                {{getReply(msg.reply_to_message_id
                                                                ).content}}
                                                            </span>
                                                        </p>
                                                    </div>
                                                    <div *ngIf="getReply(msg.reply_to_message_id).is_recalled == 1"
                                                        style="border-right: 3px solid var(--accent-default);">

                                                        <p class="px-10 py-5 my-5 text-secondary">
                                                            <i>*Tin nhắn đã được thu hồi</i>
                                                        </p>

                                                    </div>
                                                </div>

                                                <div [class]="(msg.link) ? 'layout-horizontal gap-20' : ''">
                                                    <div class="layout w-fill gradient-background p-10 rounded-top-8"
                                                        *ngIf="msg.medias.length>0">
                                                        <div style="max-width: 500px;"
                                                            class="w-fill {{(msg.medias.length<6)?'layout-'+msg.medias.length:(msg.medias.length%2==0)?'layout-6':'layout-5'}}">
                                                            <div class="w-fill h-fill border border-card-default rounded-4 overflow-hidden"
                                                                *ngFor="let img of msg.medias">
                                                                <img class="w-fill h-fill object-fit-cover object-position-center"
                                                                    [src]="getPathImg(img)" alt="Image"
                                                                    [style]="(msg.link) ? 'max-height:100px' : ''">
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div>
                                                        <a *ngIf="msg.link" [routerLink]="[ msg.link ]"
                                                            style="white-space: pre-line;"
                                                            class="display-block text-wrap accent-default text-on-accent-primary border border-card-default px-15 py-10 {{(msg.medias.length>0)?'rounded-bottom-8':'rounded-8'}}">
                                                            {{ msg.content }}
                                                        </a>
                                                        <p *ngIf="!msg.link" style="white-space: pre-line;"
                                                            class="display-block text-wrap accent-default text-on-accent-primary border border-card-default px-15 py-10 {{(msg.medias.length>0)?'rounded-bottom-8':'rounded-8'}}">
                                                            {{ msg.content }}
                                                        </p>

                                                        <div class="text-tertiary text-caption layout-horizontal align-center-space-between mt-5"
                                                            style="font-size: 0.9em;">
                                                            <p class="text-left w-fill">
                                                                {{ msg.created_at_time }}
                                                            </p>
                                                            <p *ngIf="msg.is_edited == 1" class="text-right w-fill">
                                                                Đã sửa
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>


                                        </div>
                                    </div>


                                    <div *ngIf="msg.is_recalled == 1" class="layout align-center-left">
                                        <div *ngIf="msg.showUndoBtn" class="layout mx-15">
                                            <button type="button" (click)="undoRecall(msg.id)" class="button-subtle">
                                                Hoàn tác ({{msg.countdown}})
                                            </button>
                                        </div>
                                        <p
                                            class="text-on-accent-disabled accent-disabled border border-card-default px-15 py-10 rounded-8">
                                            <i>*Tin nhắn đã được thu hồi</i>
                                        </p>
                                    </div>
                                </div>

                                <img [src]="msg.user.profile.profile_photo"
                                    class="rounded-circle border border-card-default object-fit-cover" alt=""
                                    style="width: 35px; height: 35px;">

                            </div>
                        </div>

                        <div class="w-fill layout align-top-left" *ngIf="(user.id != msg.user_id)">
                            <div class="mess-hover layout-horizontal gap-15 p-20">
                                <img [src]="msg.user.profile.profile_photo"
                                    class="rounded-circle border border-card-default object-fit-cover" alt=""
                                    style="width: 35px; height: 35px;">

                                <div style="position: relative;">
                                    <p class="text-primary text-body mb-5 text-left">
                                        {{msg.user.profile.display_name}}
                                    </p>
                                    <div class="layout align-top-left" *ngIf="msg.is_recalled == 0">
                                        <div>
                                            <div style="max-width: 350px;">
                                                <div *ngIf="msg.reply_to_message_id">
                                                    <div *ngIf="getReply(msg.reply_to_message_id).is_recalled == 0"
                                                        style="border-left: 3px solid var(--control-strong-stroke-default);">

                                                        <p class="px-10 py-5 my-5 text-secondary"
                                                            (click)="scrollToElement(msg.reply_to_message_id)">
                                                            <img *ngIf="getReply(msg.reply_to_message_id).images"
                                                                src="{{getReply(msg.reply_to_message_id).images.path}}"
                                                                alt="Image" height="50px" class="m-2 rounded-4">

                                                            <span class="text-secondary" style="white-space: pre-line;">
                                                                {{getReply(msg.reply_to_message_id
                                                                ).content}}
                                                            </span>
                                                        </p>
                                                    </div>
                                                    <div *ngIf="getReply(msg.reply_to_message_id).is_recalled == 1"
                                                        style="border-left: 3px solid var(--control-strong-stroke-default);">

                                                        <p class="px-10 py-5 my-5 text-secondary">
                                                            <i>*Tin nhắn đã được thu hồi</i>
                                                        </p>

                                                    </div>
                                                </div>

                                                <div [class]="(msg.link) ? 'layout-horizontal gap-20' : ''">

                                                    <div class="layout w-fill gradient-background p-10 rounded-top-8"
                                                        *ngIf="msg.medias.length>0">
                                                        <div style="max-width: 500px;"
                                                            class="w-fill {{(msg.medias.length<6)?'layout-'+msg.medias.length:(msg.medias.length%2==0)?'layout-6':'layout-5'}}">
                                                            <div class="w-fill h-fill  border border-card-default rounded-4 overflow-hidden"
                                                                *ngFor="let img of msg.medias">
                                                                <img class="w-fill h-fill object-fit-cover object-position-center"
                                                                    [src]="getPathImg(img)" alt="Image"
                                                                    [style]="(msg.link) ? 'max-height:100px' : ''">
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div>
                                                        <a *ngIf="msg.link" [routerLink]="[ msg.link ]"
                                                            style="white-space: pre-line;"
                                                            class="display-block text-wrap card-background-default text-primary border border-card-default px-15 py-10 {{(msg.medias.length>0)?'rounded-bottom-8':'rounded-8'}}">
                                                            {{ msg.content }}
                                                        </a>
                                                        <p *ngIf="!msg.link" style="white-space: pre-line;"
                                                            class="display-block text-wrap card-background-default text-primary border border-card-default px-15 py-10 {{(msg.medias.length>0)?'rounded-bottom-8':'rounded-8'}}">
                                                            {{ msg.content }}
                                                        </p>

                                                        <div class="text-tertiary text-caption layout-horizontal align-center-space-between mt-5"
                                                            style="font-size: 0.9em;">
                                                            <p *ngIf="msg.is_edited == 1" class="text-left w-fill">
                                                                Đã sửa
                                                            </p>
                                                            <p class="text-right w-fill">
                                                                {{ msg.created_at_time }}
                                                            </p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div [style]="(i == conversation.messages.length - 1 && i != 0) ? 'bottom: 20px; right: -180px;':'right: -180px;'"
                                            class="mess-menu mx-15 layout-vertical mx-15 gap-5 p-5 acrylic-background-default blur-acrylic border border-card-default rounded-8">
                                            <div class="list-item layout-horizontal gap-10 align-center-left"
                                                (click)="toggleDialogChat(msg.id)">
                                                <i
                                                    class="icon-size-20 accent-text-primary icon icon-ic_fluent_more_horizontal_20_regular"></i>
                                                <p class="text-body text-primary">Xem chi tiết</p>
                                            </div>
                                            <div *ngIf="!checkPined(msg.id)"
                                                class="list-item layout-horizontal gap-10 align-center-left"
                                                (click)="checkPinLength(msg.id)">
                                                <i
                                                    class="icon-size-20 accent-text-primary icon icon-ic_fluent_pin_20_regular"></i>
                                                <p class="text-body text-primary">Gim</p>
                                            </div>
                                            <div *ngIf="checkPined(msg.id)"
                                                class="list-item layout-horizontal gap-10 align-center-left"
                                                (click)="pinMessage(msg.id)">
                                                <i
                                                    class="icon-size-20 accent-text-primary icon icon-ic_fluent_pin_off_20_regular"></i>
                                                <p class="text-body text-primary">Hủy gim</p>
                                            </div>
                                            <div class="list-item layout-horizontal gap-10 align-center-left"
                                                (click)="copyMessage(msg.content)">
                                                <i
                                                    class="icon-size-20 accent-text-primary icon icon-ic_fluent_copy_20_regular"></i>
                                                <p class="text-body text-primary">Sao chép</p>
                                            </div>
                                            <div class="list-item layout-horizontal gap-10 align-center-left"
                                                (click)="onReply(msg.id)">
                                                <i
                                                    class="icon-size-20 accent-text-primary icon icon-ic_fluent_arrow_reply_20_regular"></i>
                                                <p class="text-body text-primary">Phản hổi</p>
                                            </div>
                                        </div>
                                    </div>


                                    <div *ngIf="msg.is_recalled == 1" class="layout align-center-left">
                                        <p
                                            class="border border-card-default card-background-default px-15 py-10 rounded-8 text-secondary">
                                            <i>*Tin nhắn đã được thu hồi</i>
                                        </p>
                                        <div *ngIf="msg.showUndoBtn" class="layout mx-15">
                                            <button type="button" (click)="undoRecall(msg.id)" class="button-subtle">
                                                Hoàn tác ({{msg.countdown}})
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="h-hug">
                    <form class="border-top" (submit)="sendMessage(frm.value)" #frm="ngForm"
                        enctype="multipart/form-data">

                        <div *ngIf="previewReply" class="p-10 position-relative">
                            <div style="border-left: 3px solid #005FB8E6;" class="p-10">
                                <img *ngIf="previewReply.medias.length > 0" src="{{previewReply.medias[0].path}}"
                                    alt="Image" height="50px" class="rounded-4">
                                <span class="text-secondary" style="white-space: pre-line;">
                                    {{previewReply.content}}
                                </span>
                            </div>
                            <button type="button" (click)="onCancelReply()"
                                class="button-subtle button-icon-only position-absolute top-0 end-0 m-5">
                                <i class="icon-size-16 icon icon-ic_fluent_dismiss_16_regular"></i>
                            </button>
                        </div>

                        <div *ngIf="previewUrls.length > 0" class="p-10 position-relative">
                            <div class="layout-wrap gap-10">
                                <div *ngFor="let previewUrl of previewUrls; let i = index" class="position-relative">
                                    <img [src]="previewUrl" alt="Image preview" height="100px" class="rounded-4">
                                    <button type="button" (click)="removeImage(i)"
                                        class="button-standard button-icon-only position-absolute top-0 end-0">
                                        <i class="icon-size-16 icon icon-ic_fluent_dismiss_16_regular"></i>
                                    </button>
                                </div>
                            </div>
                            <button type="button" (click)="onCancelSendImg()"
                                class="button-subtle button-icon-only position-absolute top-0 end-0 m-5">
                                <i class="icon-size-16 icon icon-ic_fluent_dismiss_16_regular"></i>
                            </button>
                        </div>

                        <div class="w-fill h-hug layout px-20 py-15 gap-15">
                            <img [src]="user.profile.profile_photo"
                                class="rounded-circle border border-card-default object-fit-cover" alt=""
                                style="width: 35px; height: 35px;">

                            <div class="control w-fill h-hug" style="padding: 0;">
                                <input type="hidden" name="id" ngModel [(ngModel)]="conversation.id">

                                <textarea [(ngModel)]="content" name="content" ngModel
                                    class="textarea-chat control text-area-control w-fill"
                                    (keydown)="handleKeydown($event, frm.value)" #textArea spellcheck="false"
                                    (input)="resizeTextarea($event)" required></textarea>

                                <button type="button" class="input-button">
                                    <i class="icon-size-16 icon icon-ic_fluent_mic_16_regular"></i>
                                </button>

                                <label style="cursor: pointer;" class="input-button">
                                    <i class="icon-size-16 icon icon-ic_fluent_image_16_regular"></i>
                                    <input type="file" [ngModel]="fileInput" name="fileInput"
                                        (change)="onFileSelected($event)" accept="image/*" multiple
                                        style="display: none;">
                                </label>
                                <button type="button" class="input-button">
                                    <i class="icon-size-16 icon icon-ic_fluent_emoji_16_regular"></i>
                                </button>
                            </div>

                            <button type="submit" class="button-accent button-text-with-icon"
                                *ngIf="(!frm.invalid && !spaceCheck.test(frm.value.content)) || previewUrls.length > 0">
                                Send
                                <i class="icon-size-16 icon icon-ic_fluent_send_16_filled"></i>
                            </button>
                        </div>
                    </form>

                </div>
            </div>
        </div>

        <div
            class="{{(isVisible)?'display-flex':'display-none'}} w-fill-column-3 layout-vertical gap-20 py-20 overflow-scroll-vertical">

            <div class="position-fixed top-0 start-0" *ngIf="idDialogEditGroup && conversation?.is_group == 1"
                style="width: 100%; height: 100vh; z-index: 10; background-color: rgba(0, 0, 0, 0.2);">
                <div class="dialog-panel position-absolute top-50 start-50 translate-middle" style="z-index: 12;">
                    <form
                        class="layout-vertical gap-20 p-20 rounded-8 acrylic-background-default blur-acrylic border border-card-default"
                        style="width: 400px;" (submit)="editGroup(frm.value)" #frm="ngForm"
                        enctype="multipart/form-data">
                        <div class="w-fill layout-vertical gap-5">
                            <p class="text-body-large text-primary">Sửa thông tin nhóm</p>
                        </div>
                        <div class="layout py-20 w-fill align-center-center">
                            <div class="background-card-default" style="width: 100px; height: 100px;">
                                <img class="border border-card-default w-fill h-fill rounded-circle object-fit-cover"
                                    src="{{(selectedFilesEditGroup.length > 0)?previewEditGroupImages:conversation.image}}"
                                    alt="">

                                <input class="display-none" type="file" [ngModel]="fileImageEditGroup"
                                    name="fileImageEditGroup" (change)="onFileImageEditGroupSelected($event)"
                                    accept="image/*" id="edit_group_media_input">
                                <label for="edit_group_media_input"
                                    class="p-0 button-accent button-icon-only position-absolute bottom-0 end-0"
                                    style="z-index: 1;">
                                    <i class="icon-size-16 icon icon-ic_fluent_camera_16_filled"></i>
                                </label>
                            </div>
                        </div>
                        <div class="w-fill layout-vertical gap-5">
                            <p class="text-body text-primary">Tên nhóm</p>
                            <div class="w-fill control text-control">
                                <input type="text" name="name_edit_group" ngModel spellcheck="false" #nameEditGroup>
                            </div>
                        </div>
                        <div class="w-fill layout-horizontal gap-20 align-center-right">
                            <button type="button" class="button-standard button-text-only"
                                (click)="closeEditGroup()">Hủy</button>
                            <button type="submit" class="button-accent button-text-only"
                                [disabled]="spaceCheck.test(frm.value.name_edit_group) && selectedFilesEditGroup.length == 0">Cập
                                nhật</button>
                        </div>
                    </form>
                </div>
            </div>

            <div class="layout-vertical card-background-default border rounded-8 align-center-center py-20">

                <div style="width: 100px; height: 100px;" class="mb-10">
                    <img [src]="
                    (conversation?.is_group == 1) ? conversation.image : conversation?.users[0].profile.profile_photo
                    " class="rounded-circle border border-card-default mb-15 w-fill h-fill object-fit-cover" alt="">
                </div>

                <div class="layout-horizontal align-center-center gap-5">
                    <p class="text-primary text-body">{{
                        (conversation?.is_group == 1) ? conversation.name : conversation?.users[0].profile.display_name
                        }}</p>

                    <button type="button" class="button-subtle button-icon-only" *ngIf="conversation?.is_group == 1"
                        (click)="toggleDialogEditGroup()">
                        <i class="icon-size-16 accent-text-primary icon icon-ic_fluent_edit_16_regular"></i>
                    </button>
                </div>

                <p class="text-primary text-caption">{{
                    (conversation?.is_group == 1) ? '' : conversation?.users[0].email
                    }}</p>
            </div>

            <div class="layout-vertical card-background-default border rounded-8">

                <div class="accordion {{conversation?.is_group == 1?'display-block':'display-none'}}">
                    <div class="accordion-item">
                        <div class="user-accordion-header layout-horizontal gap-15 px-20 py-15 align-center-center text-accent-default"
                            style="cursor: pointer;">
                            <i *ngIf="!showBoxSearchUser"
                                class="icon-size-20 icon icon-ic_fluent_person_add_20_regular"></i>
                            <p class="text-primary text-body w-fill">Thêm thành viên</p>
                            <i *ngIf="showBoxSearchUser"
                                class="icon-size-20 icon icon-ic_fluent_dismiss_20_regular"></i>
                        </div>
                        <div class="accordion-panel accordion-panel-search-user">
                            <div class="layout-vertical p-5 gap-15 px-15 py-10">

                                <div class="control search-control search-control-user w-fill">
                                    <input type="search w-fill" (input)="searchUser()" [(ngModel)]="keywordSearchUser"
                                        name="keywordSearchUser" placeholder="Tìm kiếm" spellcheck="false" required="">
                                    <button type="button" class="input-button clear-content-button"
                                        (click)="clearSearchUser()">
                                        <i class="icon-size-16 icon icon-ic_fluent_dismiss_16_regular"></i>
                                    </button>
                                    <button type="button" class="input-button search-button" (click)="searchUser()">
                                        <i class="icon-size-16 icon icon-ic_fluent_search_16_regular"></i>
                                    </button>
                                </div>

                                <div class="layout-vertical" *ngIf="valueSearchUser.length > 0">

                                    <div *ngFor="let user of valueSearchUser"
                                        class="layout-horizontal gap-15 p-10 w-fill list-item border-top">
                                        <div class="layout-horizontal align-center-center gap-15 w-fill">
                                            <div style="width: 35px; height: 35px;">
                                                <img [src]="user.profile.profile_photo"
                                                    class="rounded-circle border border-card-default object-fit-cover"
                                                    style="width: 35px; height: 35px;" alt="">
                                            </div>
                                            <div class="layout-vertical w-fill">
                                                <p class="text-secondary text-body-strong w-fill">
                                                    {{user.profile.display_name}}</p>
                                                <p class="text-caption text-tertiary">{{user.email}}</p>
                                            </div>
                                        </div>
                                        <button type="button" class="button-accent button-icon-only"
                                            (click)="addGroup(user.id, conversation.id)">+</button>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="accordion {{conversation?.is_group == 1?'display-block':'display-none'}}">
                    <div class="accordion-item">
                        <div class="group-accordion-header layout-horizontal gap-15 px-20 py-15 align-center-center text-accent-default"
                            style="cursor: pointer;">
                            <i *ngIf="!showUserGroup" class="icon-size-20 icon icon-ic_fluent_person_20_regular"></i>
                            <p class="text-primary text-body w-fill">Thành viên</p>
                            <i *ngIf="showUserGroup" class="icon-size-20 icon icon-ic_fluent_dismiss_20_regular"></i>
                        </div>
                        <div class="accordion-panel accordion-panel-group-user">
                            <div class="layout-vertical p-5 px-15">

                                <div class="layout-horizontal gap-15 p-10 w-fill list-item border-top"
                                    *ngFor="let user of conversation?.users">
                                    <div class="layout-horizontal align-center-center gap-15 w-fill">
                                        <div style="width: 35px; height: 35px;">
                                            <img [src]="user.profile.profile_photo"
                                                class="rounded-circle border border-card-default object-fit-cover"
                                                style="width: 35px; height: 35px;" alt="">
                                        </div>
                                        <div class="layout-vertical w-fill">
                                            <p class="text-secondary text-body-strong w-fill">
                                                {{user.profile.display_name}}</p>
                                            <p class="text-caption text-tertiary">{{user.email}}</p>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>


                <div class="accordion">
                    <div class="accordion-item">
                        <div class="a-accordion-header layout-horizontal gap-15 px-20 py-15 align-center-center text-accent-default"
                            style="cursor: pointer;">
                            <i *ngIf="!showBoxSearch" class="icon-size-20 icon icon-ic_fluent_search_20_regular"></i>
                            <p class="text-primary text-body w-fill">Tìm kiếm tin nhắn</p>
                            <i *ngIf="showBoxSearch" class="icon-size-20 icon icon-ic_fluent_dismiss_20_regular"></i>
                        </div>
                        <div class="accordion-panel accordion-panel-search-chat">
                            <div class="layout-vertical p-5 gap-15 px-15 py-10">

                                <div class="control search-control search-control-chat w-fill">
                                    <input type="search w-fill" (input)="searchMessage()" [(ngModel)]="keywordSearch"
                                        name="keywordSearch" placeholder="Tìm kiếm" spellcheck="false" required="">
                                    <button type="button" class="input-button clear-content-button"
                                        (click)="clearSearchMessage()">
                                        <i class="icon-size-16 icon icon-ic_fluent_dismiss_16_regular"></i>
                                    </button>
                                    <button type="button" class="input-button search-button" (click)="searchMessage()">
                                        <i class="icon-size-16 icon icon-ic_fluent_search_16_regular"></i>
                                    </button>
                                </div>

                                <div class="layout-vertical gap-5" *ngIf="valueSearch.length > 0">

                                    <div *ngFor="let message of valueSearch">
                                        <div style="cursor: pointer;" (click)="scrollToElement(message.id)"
                                            class="layout-horizontal align-center-left gap-15 p-15 list-item">
                                            <div>
                                                <img [src]="message.user.profile.profile_photo"
                                                    class="rounded-circle border border-card-default object-fit-cover"
                                                    alt="" style="width: 35px; height: 35px;">
                                            </div>
                                            <div class="w-fill">
                                                <p class="text-body-strong">{{message.user.profile.display_name}}
                                                </p>
                                                <p class="text-body">{{message.content}}</p>
                                                <p class="text-caption">{{message.created_at_date}} -
                                                    {{message.created_at_time}}</p>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <a href=""
                    class="layout-horizontal gap-15 px-20 py-15 border-top align-center-center text-accent-default">
                    <i class="icon-size-20 icon icon-ic_fluent_alert_20_regular"></i>
                    <p class="text-primary text-body w-fill">Thông báo</p>
                </a>

                <a href=""
                    class="layout-horizontal gap-15 px-20 py-15 border-top align-center-center text-accent-default">
                    <i class="icon-size-20 icon icon-ic_fluent_pin_20_regular"></i>
                    <p class="text-primary text-body w-fill">Tin nhắn được gim</p>
                </a>
            </div>

            <div
                class="layout-vertical w-fill gap-20 p-20 rounded-8 card-background-default border border-card-default">
                <div
                    class="layout-horizontal pb-10 w-fill border-bottom border-card-default align-center-space-between">
                    <p class="text-body text-primary">{{images?.length}} phương tiện</p>
                    <a href="" class="link text-nowrap">Xem thêm</a>
                </div>
                <div class="layout-vertical w-fill p-0">
                    <div class="w-fill layout-wrap gap-20 align-center-left" *ngIf="images?.length>0">
                        <div class="w-fill-column-4" style="height: 80px;" *ngFor="let img of images">
                            <img [src]="img.path" class="w-fill h-fill object-fit-cover rounded-4"
                                (click)="setZoomIng(img.path)">
                        </div>
                    </div>

                    <div class="w-fill py-20 card-background-default border border-card-default rounded-8"
                        *ngIf="images?.length==0">
                        <p class="text-body text-secondary text-center">Trống</p>
                    </div>
                </div>
            </div>

            <div class="position-fixed top-0 start-0" *ngIf="zoomImg != ''" style="width: 100%; height: 100vh;">
                <div class="position-fixed top-0 start-0"
                    style="width: 100%; height: 100vh; z-index: 20; background-color: rgba(0, 0, 0, 0.2); backdrop-filter: blur(2px);"
                    (click)="setZoomIng('')">
                </div>
                <div class="dialog-panel position-absolute top-50 start-50 translate-middle" style="z-index: 21;">
                    <div class="layout-vertical p-10 rounded-8 acrylic-background-default blur-acrylic border border-card-default"
                        style="max-width: 700px;">
                        <img [src]="zoomImg" class="w-fill h-fill rounded-6" alt="">
                    </div>
                </div>
            </div>
        </div>
    </article>

</section>